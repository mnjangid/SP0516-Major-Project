<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloth Retail IMS - Analytics Dashboard</title>
    <link rel="stylesheet" href="regionalOfficerDashboard.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        /* Fix chart stability */
        #salesChart {
            height: 300px !important;
            position: relative;
        }
        #salesChartCanvas {
            max-height: 300px;
        }
    </style>
</head>
<body>

    <div class="header">
        <div class="headerTitle">Cloth Retail IMS</div>
        <button class="logoutbtn"><a href="../index.html">Log Out</a></button>
    </div>

    <div class="container">

        <div class="sidebar">
            <nav>
                <a href="regionalOfficerDashboard.html" class="navItem active">Dashboard</a>
                <a href="regionalOfficerHistoricalSales.html" class="navItem">Historical Sales</a>
                <a href="regionalOfficerStocks.html" class="navItem">Stock Transfer Management</a>
            </nav>
            <div class="sidebarspacer"></div>
        </div>

        <div class="mainContent">

            <div class="toprow">

                <div class="statCards">
                    <div class="statcard">
                        <div class="stattitle">Total Sales</div>
                        <div class="statValue">Rs 1245300</div>
                        <div class="statchange positive">8.5% Increase</div>
                    </div>
                    <div class="statcard">
                        <div class="stattitle">Stock Value</div>
                        <div class="statValue">Rs 2245600</div>
                        <div class="statchange positive">8.5% Increase</div>
                    </div>
                    <div class="statcard">
                        <div class="stattitle">Average Daily Sales</div>
                        <div class="statValue">Rs 24000</div>
                        <div class="statchange positive">5.5% Increase</div>
                    </div>
                </div>

                <div class="topStoreCard">
                    <div class="topStoreTitle">Top Performing Store</div>
                    <div class="topStoreName">Store B</div>
                    <div class="topStoreSales">Sales : Rs 500000</div>
                </div>

            </div>

            <div class="middlerow">

                <div class="chartCard">
                    <div class="chartCardHeader">
                        <span class="chartCardTitle">Sales Overview</span>
                        <button class="filterbtn">Last 6 months</button>
                    </div>
                    
                    <div class="chartplaceholder" id="salesChart">
                        <canvas id="salesChartCanvas"></canvas>
                    </div>
                    
                    <div class="chartlegend">
                        <span class="legendDot" style="background:#5b6abf;"></span> Store A
                        <span class="legendDot" style="background:#e07b7b;"></span> Store B
                        <span class="legendDot" style="background:#5bbfbf;"></span> Store C
                        <span class="legendDot" style="background:#e0b85b;"></span> Store D
                        <span class="legendDot" style="background:#5b8abf;"></span> Store E
                    </div>
                </div>

                <div class="mapcard">
                    <div class="maptitle">Regional Map</div>
                    <div class="mapwrapper">
                        <iframe
                            src="https://maps.google.com/maps?q=Jodhpur,Rajasthan,India&z=12&output=embed"
                            width="100%"
                            height="100%"
                            style="border:0;"
                            allowfullscreen=""
                            loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                    </div>
                    <div class="maplabel">Jodhpur , Rajasthan</div>
                </div>

            </div>

            <div class="bottomrow">

                <div class="comparisonCard">
                    <div class="comparisonTitle">Store Comparision</div>
                    <table class="datatable">
                        <thead>
                            <tr>
                                <th>Store</th>
                                <th>Sales</th>
                                <th>Stock Level</th>
                                <th>Daily Sales</th>
                                <th>Conversion Rate</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Store A</td>
                                <td>3L</td>
                                <td>72%</td>
                                <td>10K</td>
                                <td>15.4%</td>
                            </tr>
                            <tr>
                                <td>Store B</td>
                                <td>5L</td>
                                <td>65%</td>
                                <td>16K</td>
                                <td>12.8%</td>
                            </tr>
                            <tr>
                                <td>Store C</td>
                                <td>2L</td>
                                <td>45%</td>
                                <td>6K</td>
                                <td>34%</td>
                            </tr>
                            <tr>
                                <td>Store D</td>
                                <td>1.5L</td>
                                <td>24%</td>
                                <td>5K</td>
                                <td>22%</td>
                            </tr>
                            <tr>
                                <td>Store E</td>
                                <td>2.5L</td>
                                <td>44%</td>
                                <td>8K</td>
                                <td>32%</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="tasksection">
                        <div class="taskTitle">Task</div>
                        <div class="taskitem">Inventory Audit Tomorrow</div>
                        <div class="taskitem">Sales Report Due Friday</div>
                    </div>
                </div>

            </div>

        </div>
    </div>

    <script type="module" src="regionalOfficerDashboard.js"></script>

</body>
</html>