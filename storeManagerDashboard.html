<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloth Retail IMS</title>
    <link rel="stylesheet" href="storeManagerDashboard.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
</head>
<body>

    <div class="headerBar">
        <div class="header-title">Cloth Retail IMS</div>
        <button class="logout-btn"><a href="index.html">Log Out</a></button>
    </div>

    <div class="container">

        <div class="sidebar">
            <nav>
                <a href="storeManagerDashboard.html" class="navItem active">Dashboard</a>
                <a href="storeManagerReordering.html" class="navItem">Reordering</a>
                <a href="storeManagerShipmentTracking.html" class="navItem">Shipment Tracking</a>
               
            </nav>
        </div>

        <div class="mainContent">

            <div class="chart-card">
                <div class="chartTitle">Current Stock Quantity (Category-Wise)</div>
                <div class="chart-area">
                    <div class="barChartWrapper">
                        <canvas id="stockChart" height="110"></canvas>
                        <div class="xAxisTitle">Quantity V/s Category</div>
                    </div>
                </div>
            </div>

            <div class="bottom-row">

                <div class="low-stock-card">
                    <h2>Low Stock Alert</h2>

                    <div class="stockAlertItem">
                        <div class="stock-icon" style="background-color:#8e44ad;"></div>
                        <div class="stock-info">
                            <span class="stock-name">Hoodies</span>
                            <span class="stockQty">70</span>
                        </div>
                    </div>

                    <div class="stockAlertItem">
                        <div class="stock-icon" style="background-color:#f1c40f;"></div>
                        <div class="stock-info">
                            <span class="stock-name">Pants</span>
                            <span class="stockQty">150</span>
                        </div>
                    </div>
                </div>

                <div class="product-list-card">
                    <h2>Product List</h2>
                    <select class="categorySelect">
                        <option value="" disabled selected>Select Category</option>
                        <option value="Shirt">Shirt</option>
                        <option value="T-shirt">T-Shirt</option>
                        <option value="Pants">Pants</option>
                        <option value="Jeans">Jeans</option>
                        <option value="Hoodie">Hoodies</option>
                    </select>
                    <div id="productTableContainer"></div>
                    
                </div>

            </div>

        </div>
    </div>
    <script type="module" src="storeManagerDashboard"></script>

    <script>
        
        const ctx = document.getElementById('stockChart').getContext('2d');
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Shirt', 'Tshirt', 'Pants', 'Jeans', 'Hoodies'],
                datasets: [{
                    label: 'Stock Quantity',
                    data: [240, 350, 150, 180, 70],
                    backgroundColor: ['#e74c3c', '#27ae60', '#f1c40f', '#2980b9', '#8e44ad'],
                    borderRadius: 2,
                    barPercentage: 0.5,
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        display: true,
                        position: 'right',
                        labels: {
                            usePointStyle: false,
                            boxWidth: 22,
                            boxHeight: 22,
                            padding: 16,
                            font: { size: 13 },
                            generateLabels: function(chart) {
                                const labels = ['Shirt', 'T-Shirt', 'Pants', 'Jeans', 'Hoodies'];
                                const colors = ['#e74c3c', '#27ae60', '#f1c40f', '#2980b9', '#8e44ad'];
                                return labels.map((label, i) => ({
                                    text: label,
                                    fillStyle: colors[i],
                                    strokeStyle: colors[i],
                                    lineWidth: 0,
                                    hidden: false,
                                    index: i
                                }));
                            }
                        }
                    },
                    tooltip: { mode: 'index', intersect: false }
                },
                scales: {
                    x: {
                        grid: { display: false },
                        ticks: { font: { size: 11 }, color: '#555' }
                    },
                    y: {
                        min: 0,
                        max: 400,
                        ticks: { stepSize: 80, font: { size: 11 }, color: '#666' },
                        grid: { color: '#e0e0e0' }
                    }
                }
            }
        });
    </script>

    <script src="storeManagerDashboard.js"></script>


</body>
</html>